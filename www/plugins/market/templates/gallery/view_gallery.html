<ion-view left-buttons="leftButtons" class="market view-record">
    <ion-nav-title>
        <span translate>MARKET.GALLERY.TITLE</span>
    </ion-nav-title>

    <ion-nav-buttons side="secondary">
        <!--<button class="button button-bar button-icon button-clear visible-xs visible-sm" ng-click="edit()" ng-if="canEdit">
            <i class="icon ion-android-create"></i>
        </button>
        <button class="button button-bar button-icon button-clear icon ion-android-more-vertical visible-xs visible-sm"
                ng-click="showActionsPopover($event)">
        </button>-->
    </ion-nav-buttons>

    <ion-content class="has-header ">

        <div class="row responsive-sm">
            <div class="col col-20 list">
                <button class="item button button-block button-raised icon icon-left ion-play ink"
                        title="{{!activeCategory ? 'MARKET.GALLERY.BTN_START' : 'MARKET.GALLERY.BTN_CONTINUE' | translate}}"
                ng-click="startSlideShow()">
                    {{!activeCategory ? 'MARKET.GALLERY.BTN_START' : 'MARKET.GALLERY.BTN_CONTINUE' | translate}}
                </button>

                <button class="item  button button-block button-raised icon icon-left ion-stop ink"
                        title="{{'MARKET.GALLERY.BTN_STOP' | translate}}"
                        ng-disabled="!activeCategory"
                        ng-click="resetSlideShow()">
                    {{'MARKET.GALLERY.BTN_STOP' | translate}}
                </button>
            </div>

            <div class="col list">
                <div class="item item-input item-select no-border">
                    <div class="input-label">
                        {{'MARKET.GALLERY.SLIDE_DURATION' | translate}}
                    </div>
                    <select ng-model="options.slideDuration"
                            ng-options="i as (slideDurationLabels[i].labelKey | translate:slideDurationLabels[i].labelParams ) for i in slideDurations track by i">
                    </select>
                </div>
                <div class="item item-toggle dark">
                    <div class="input-label">
                        {{'MARKET.SEARCH.SHOW_CLOSED_RECORD' | translate}}
                    </div>
                    <label class="toggle toggle-royal">
                        <input type="checkbox" ng-model="options.showClosed">
                        <div class="track">
                            <div class="handle"></div>
                        </div>
                    </label>
                </div>
            </div>
        </div>

        <div class="list">
            <ng-repeat ng-repeat="cat in categories | filter:isLoadedCategory track by cat.id" ng-init="catIndex=$index">
                <div class="item item-divider">

                    <span ng-bind-html="cat.name"></span> ({{cat.count}})
                </div>

                <a class="item item-list-detail">
                    <ion-scroll direction="x">
                        <img ng-repeat="picture in cat.pictures track by picture.id" ng-src="{{picture.src}}" ng-click="showPicturesModal(catIndex, $index, true)" class="image-list-thumb"/>
                    </ion-scroll>
                </a>
            </ng-repeat>
        </div>
    </ion-content>
</ion-view>